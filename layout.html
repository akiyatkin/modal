{start:}
<section class="popupmodal">
	<div class="body">
		<!-- <div class="close">&times;</div> -->
{end:}
	</div>
	<div>&nbsp;<!-- 2/3 экрана --></div>
</section>
<script type="module">
	import { Modal } from "/vendor/akiyatkin/modal/Modal.js"
	const div = document.getElementById('{div}')
	const cls = (cls, el = div) => el.getElementsByClassName(cls)
	const modal = cls('popupmodal')[0]
	const body = cls('body', modal)[0]
	const close = cls('close')[0]
	if (close) close.addEventListener('click', () => {
		Modal.hide(div)
	})
	document.body.addEventListener('click', e => {
		let el = e.target
		const path = [el]
		while (el && el.parentElement) path.push(el = el.parentElement)
		if (path.find(el => el.tagName == 'A')) return Modal.hide(div); //Клик по ссылке закрываем
		if (path.find(el => el == body)) return; //Клик внутри меню, меню не сворачивает
		Modal.hide(div)
	}, true);
</script>